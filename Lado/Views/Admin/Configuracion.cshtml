@{
    ViewData["Title"] = "Configuración";
}

<div class="container-fluid py-4">
    <!-- Header -->
    <div class="row mb-4">
        <div class="col-md-6">
            <h2><i class="fas fa-cogs text-secondary"></i> Configuración de Plataforma</h2>
            <p class="text-muted">Ajustes generales del sistema</p>
        </div>
        <div class="col-md-6 text-end">
            <a href="@Url.Action("Index", "Admin")" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left"></i> Volver al Dashboard
            </a>
        </div>
    </div>

    <div class="row g-3">
        <!-- Comisiones -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-percentage"></i> Comisiones y Precios
                    </h5>
                </div>
                <div class="card-body">
                    <form method="post" action="@Url.Action("ActualizarComision")">
                        <div class="mb-3">
                            <label class="form-label">Comisión de Plataforma (%)</label>
                            <input type="number" name="comision" class="form-control"
                                   value="20" min="0" max="100" step="0.1" required>
                            <small class="text-muted">
                                Porcentaje que cobra la plataforma por cada transacción
                            </small>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Precio Mínimo Suscripción (USD)</label>
                            <input type="number" name="precioMinSub" class="form-control"
                                   value="5" min="1" step="0.01" required>
                            <small class="text-muted">
                                Precio mínimo que puede cobrar un creador por suscripción
                            </small>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Precio Mínimo PPV (USD)</label>
                            <input type="number" name="precioMinPPV" class="form-control"
                                   value="5" min="1" step="0.01" required>
                            <small class="text-muted">
                                Precio mínimo para contenido de pago por visión
                            </small>
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Guardar Cambios
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Límites de Contenido -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-upload"></i> Límites de Contenido
                    </h5>
                </div>
                <div class="card-body">
                    <form>
                        <div class="mb-3">
                            <label class="form-label">Tamaño Máximo de Imagen (MB)</label>
                            <input type="number" class="form-control" value="10" min="1" max="100">
                            <small class="text-muted">
                                Tamaño máximo permitido para imágenes
                            </small>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Tamaño Máximo de Video (MB)</label>
                            <input type="number" class="form-control" value="500" min="10" max="2000">
                            <small class="text-muted">
                                Tamaño máximo permitido para videos
                            </small>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Duración Máxima Video (minutos)</label>
                            <input type="number" class="form-control" value="15" min="1" max="60">
                            <small class="text-muted">
                                Duración máxima de videos en minutos
                            </small>
                        </div>

                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Guardar Cambios
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Configuración de Seguridad -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-danger text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-shield-alt"></i> Seguridad
                    </h5>
                </div>
                <div class="card-body">
                    <form>
                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="requiereVerificacion" checked>
                                <label class="form-check-label" for="requiereVerificacion">
                                    Requerir verificación de email
                                </label>
                            </div>
                            <small class="text-muted d-block mt-1">
                                Los usuarios deben verificar su email antes de publicar
                            </small>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="moderacionAutomatica">
                                <label class="form-check-label" for="moderacionAutomatica">
                                    Moderación automática de contenido
                                </label>
                            </div>
                            <small class="text-muted d-block mt-1">
                                Analizar contenido automáticamente antes de publicar
                            </small>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="requiere2FA">
                                <label class="form-check-label" for="requiere2FA">
                                    Requerir 2FA para creadores
                                </label>
                            </div>
                            <small class="text-muted d-block mt-1">
                                Los creadores deben habilitar autenticación de dos factores
                            </small>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Intentos de login antes de bloqueo</label>
                            <input type="number" class="form-control" value="5" min="3" max="10">
                            <small class="text-muted">
                                Número de intentos fallidos antes de bloquear cuenta temporalmente
                            </small>
                        </div>

                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-save"></i> Guardar Cambios
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Notificaciones -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-bell"></i> Notificaciones
                    </h5>
                </div>
                <div class="card-body">
                    <form>
                        <div class="mb-3">
                            <label class="form-label">Email de Admin</label>
                            <input type="email" class="form-control" value="admin@Ladodemo.com">
                            <small class="text-muted">
                                Email para recibir notificaciones importantes
                            </small>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="notifReportes" checked>
                                <label class="form-check-label" for="notifReportes">
                                    Notificar nuevos reportes
                                </label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="notifNuevosUsuarios">
                                <label class="form-check-label" for="notifNuevosUsuarios">
                                    Notificar nuevos usuarios
                                </label>
                            </div>
                        </div>

                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="notifActividadSospechosa" checked>
                                <label class="form-check-label" for="notifActividadSospechosa">
                                    Notificar actividad sospechosa
                                </label>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-info">
                            <i class="fas fa-save"></i> Guardar Cambios
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Mantenimiento -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-warning">
                    <h5 class="mb-0">
                        <i class="fas fa-tools"></i> Mantenimiento
                    </h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="modoMantenimiento">
                            <label class="form-check-label" for="modoMantenimiento">
                                <strong>Modo Mantenimiento</strong>
                            </label>
                        </div>
                        <small class="text-muted d-block mt-1">
                            Desactiva el acceso a la plataforma para todos excepto admins
                        </small>
                    </div>

                    <hr>

                    <h6 class="mb-3">Acciones de Limpieza</h6>

                    <div class="d-grid gap-2">
                        <button class="btn btn-outline-secondary" type="button">
                            <i class="fas fa-trash"></i> Limpiar contenido eliminado (30 días)
                        </button>
                        <button class="btn btn-outline-secondary" type="button">
                            <i class="fas fa-broom"></i> Limpiar sesiones expiradas
                        </button>
                        <button class="btn btn-outline-secondary" type="button">
                            <i class="fas fa-database"></i> Optimizar base de datos
                        </button>
                        <button class="btn btn-outline-danger" type="button"
                                onclick="return confirm('¿Estás seguro? Esta acción no se puede deshacer')">
                            <i class="fas fa-file-archive"></i> Crear respaldo completo
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Información del Sistema -->
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm h-100">
                <div class="card-header bg-secondary text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-info-circle"></i> Información del Sistema
                    </h5>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="mb-2">
                            <strong>Versión de Lado:</strong> 1.0.0
                        </li>
                        <li class="mb-2">
                            <strong>Versión de .NET:</strong> 8.0
                        </li>
                        <li class="mb-2">
                            <strong>Base de Datos:</strong> SQL Server
                        </li>
                        <li class="mb-2">
                            <strong>Servidor:</strong> Azure / AWS
                        </li>
                        <li class="mb-2">
                            <strong>Almacenamiento usado:</strong> 125 GB / 500 GB
                        </li>
                        <li class="mb-2">
                            <strong>Última actualización:</strong> @DateTime.Now.ToString("dd/MM/yyyy")
                        </li>
                        <li class="mb-0">
                            <strong>Última copia de seguridad:</strong> Hace 2 días
                        </li>
                    </ul>

                    <hr>

                    <div class="alert alert-success mb-0">
                        <i class="fas fa-check-circle"></i>
                        <strong>Estado:</strong> Todos los sistemas operando normalmente
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@if (TempData["Success"] != null)
{
    <script>
        alert('@TempData["Success"]');
    </script>
}