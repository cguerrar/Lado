@model IEnumerable<Lado.Models.ApplicationUser>
@{
    ViewData["Title"] = "Explorar Creadores";
}

<div class="row mb-4">
    <div class="col-12">
        <h2>Explorar Creadores</h2>
        <p class="text-muted">Descubre creadores increíbles y su contenido exclusivo</p>
    </div>
</div>

<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-text"><i class="fas fa-search"></i></span>
                            <input type="text" class="form-control" placeholder="Buscar creadores...">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select">
                            <option>Todas las categorías</option>
                            <option>Fitness</option>
                            <option>Cocina</option>
                            <option>Gaming</option>
                            <option>Arte</option>
                            <option>Música</option>
                            <option>Educación</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select">
                            <option>Ordenar por</option>
                            <option>Más populares</option>
                            <option>Nuevos</option>
                            <option>Precio (menor a mayor)</option>
                            <option>Precio (mayor a menor)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row g-4">
    @foreach (var creador in Model)
    {
        <div class="col-md-6 col-lg-4 col-xl-3">
            <div class="card creator-card h-100 shadow-sm">
                <div class="creator-cover">
                    @if (!string.IsNullOrEmpty(creador.FotoPortada))
                    {
                        <img src="@creador.FotoPortada" alt="Portada">
                    }
                    else
                    {
                        <div class="cover-placeholder"></div>
                    }
                </div>
                <div class="card-body text-center">
                    <div class="creator-avatar">
                        @if (!string.IsNullOrEmpty(creador.FotoPerfil))
                        {
                            <img src="@creador.FotoPerfil" alt="@creador.NombreCompleto">
                        }
                        else
                        {
                            <div class="avatar-placeholder">
                                @creador.NombreCompleto.Substring(0, 1)
                            </div>
                        }
                    </div>
                    <h5 class="mb-1">@creador.NombreCompleto</h5>
                    <p class="text-muted small mb-2">@@@creador.UserName</p>

                    @if (!string.IsNullOrEmpty(creador.Biografia))
                    {
                        <p class="text-muted small mb-3">
                            @(creador.Biografia.Length > 80 ? creador.Biografia.Substring(0, 80) + "..." : creador.Biografia)
                        </p>
                    }

                    <div class="creator-stats mb-3">
                        <div class="stat-item">
                            <strong>1.2K</strong>
                            <small>Suscriptores</small>
                        </div>
                        <div class="stat-item">
                            <strong>145</strong>
                            <small>Posts</small>
                        </div>
                        <div class="stat-item">
                            <strong>15.7K</strong>
                            <small>Likes</small>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-transparent">
                    <div class="d-grid gap-2">
                        <a href="/Feed/Perfil/@creador.Id" class="btn btn-primary">
                            <i class="fas fa-user"></i> Ver Perfil
                        </a>
                        <button class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-dollar-sign"></i> Desde $9.99/mes
                        </button>
                    </div>
                </div>
            </div>
        </div>
    }
</div>

@if (!Model.Any())
{
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-body text-center py-5">
                    <i class="fas fa-users fa-4x text-muted mb-3"></i>
                    <h4>No se encontraron creadores</h4>
                    <p class="text-muted">Intenta con otros filtros de búsqueda</p>
                </div>
            </div>
        </div>
    </div>
}

<style>
    .creator-card {
        transition: all 0.3s;
        overflow: hidden;
    }

        .creator-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15) !important;
        }

    .creator-cover {
        height: 120px;
        overflow: hidden;
        position: relative;
    }

        .creator-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

    .cover-placeholder {
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--primary-color), #0288d1);
    }

    .creator-avatar {
        margin-top: -50px;
        position: relative;
        z-index: 10;
    }

        .creator-avatar img,
        .avatar-placeholder {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 4px solid white;
            object-fit: cover;
        }

    .avatar-placeholder {
        background: linear-gradient(135deg, var(--primary-color), #0288d1);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 2rem;
        font-weight: 700;
    }

    .creator-stats {
        display: flex;
        justify-content: space-around;
        padding: 15px 0;
        border-top: 1px solid #f0f0f0;
        border-bottom: 1px solid #f0f0f0;
    }

    .stat-item {
        text-align: center;
    }

        .stat-item strong {
            display: block;
            font-size: 1.1rem;
            color: var(--primary-color);
        }

        .stat-item small {
            color: #999;
            font-size: 0.8rem;
        }
</style>